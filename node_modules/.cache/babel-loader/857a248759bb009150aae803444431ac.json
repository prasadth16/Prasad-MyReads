{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Prasad\\\\react\\\\Udacity-MyReads\\\\Prasad-MyReads\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Prasad\\\\react\\\\Udacity-MyReads\\\\Prasad-MyReads\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Prasad\\\\react\\\\Udacity-MyReads\\\\Prasad-MyReads\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Prasad\\\\react\\\\Udacity-MyReads\\\\Prasad-MyReads\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Prasad\\\\react\\\\Udacity-MyReads\\\\Prasad-MyReads\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Prasad\\\\react\\\\Udacity-MyReads\\\\Prasad-MyReads\\\\src\\\\Search.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./App.css\";\nimport * as bookapi from \"./BooksAPI.js\";\nimport PropTypes from \"prop-types\";\n\nvar SearchBooks =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchBooks, _Component);\n\n  function SearchBooks() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SearchBooks);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SearchBooks)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      searchQuery: \"\",\n      searchedBooks: []\n    };\n\n    _this.updateQuery = function (query) {\n      _this.setState(function () {\n        return {\n          searchQuery: query\n        };\n      });\n\n      _this.updateSearch(query);\n    };\n\n    _this.updateSearch = function (query) {\n      if (query) {\n        bookapi.search(query).then(function (searchedResults) {\n          if (!searchedResults.error) {\n            _this.setState(function () {\n              return {\n                searchedBooks: searchedResults\n              };\n            });\n          } else {\n            _this.setState({\n              searchedBooks: []\n            });\n          }\n        });\n      } else {\n        _this.setState({\n          searchedBooks: []\n        });\n      }\n    };\n\n    _this.updateBookShelf = function (book, shelf) {\n      return bookapi.update(book, shelf);\n    };\n\n    return _this;\n  }\n\n  _createClass(SearchBooks, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"search-books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search-books-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        className: \"close-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"search-books-input-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Search by title or author\",\n        value: this.state.searchQuery,\n        onChange: function onChange(event) {\n          return _this2.updateQuery(event.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"search-books-results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"ol\", {\n        className: \"books-grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, this.state.searchedBooks.map(function (book) {\n        var currentShelf = \"none\";\n\n        _this2.props.booksOnShelf.map(function (currentShlefBook) {\n          if (book.id === currentShlefBook.id) {\n            currentShelf = currentShlefBook.shelf;\n          }\n        });\n\n        return React.createElement(\"li\", {\n          key: book.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"book\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"book-top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, book.imageLinks != undefined && React.createElement(\"div\", {\n          className: \"bookcoverpage\",\n          style: {\n            width: 128,\n            height: 188,\n            backgroundImage: \"url(\".concat(book.imageLinks.smallThumbnail, \")\")\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"book-shelf-changer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"select\", {\n          onChange: function onChange(event) {\n            return _this2.updateBookShelf(book, event.target.value);\n          },\n          value: currentShelf,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \"move\",\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"Move to...\"), React.createElement(\"option\", {\n          value: \"currentlyReading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, \"Currently Reading\"), React.createElement(\"option\", {\n          value: \"none\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \"None\"), React.createElement(\"option\", {\n          value: \"wantToRead\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \"Want to Read\"), React.createElement(\"option\", {\n          value: \"read\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, \"Read\")))), React.createElement(\"div\", {\n          className: \"book-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, book.title)), React.createElement(\"div\", {\n          className: \"authordiv\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"book-authors\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, book.authors))));\n      }))));\n    }\n  }]);\n\n  return SearchBooks;\n}(Component);\n\nSearchBooks.propTypes = {\n  booksOnShelf: PropTypes.array\n};\nexport default SearchBooks;","map":{"version":3,"sources":["C:\\Users\\Prasad\\react\\Udacity-MyReads\\Prasad-MyReads\\src\\Search.js"],"names":["React","Component","Link","bookapi","PropTypes","SearchBooks","state","searchQuery","searchedBooks","updateQuery","query","setState","updateSearch","search","then","searchedResults","error","updateBookShelf","book","shelf","update","event","target","value","map","currentShelf","props","booksOnShelf","currentShlefBook","id","imageLinks","undefined","width","height","backgroundImage","smallThumbnail","title","authors","propTypes","array"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport * as bookapi from \"./BooksAPI.js\"\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass SearchBooks extends Component {\r\n    static propTypes = {\r\n        booksOnShelf: PropTypes.array\r\n    }\r\n    state = {\r\n        searchQuery: \"\",\r\n        searchedBooks: []\r\n    }\r\n\r\n    updateQuery = (query) => {\r\n        this.setState(() => ({\r\n            searchQuery: query\r\n        }))\r\n        this.updateSearch(query)\r\n    }\r\n    updateSearch = (query) => {\r\n        if (query) {\r\n            bookapi.search(query).then((searchedResults) => {\r\n                if (!(searchedResults.error)) {\r\n\r\n                    this.setState(() => ({\r\n                        searchedBooks: searchedResults\r\n                    }))\r\n                }\r\n                else {\r\n                    this.setState({\r\n                        searchedBooks: []\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                searchedBooks: []\r\n            })\r\n        }\r\n    }\r\n\r\n    updateBookShelf = ((book, shelf) => (\r\n        bookapi.update(book, shelf)\r\n    ))\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <div className=\"search-books\">\r\n                <div className=\"search-books-bar\">\r\n                    <Link to=\"/\" className=\"close-search\" />\r\n                    <div className=\"search-books-input-wrapper\">\r\n                        <input type=\"text\" placeholder=\"Search by title or author\" value={this.state.searchQuery} onChange={(event) => this.updateQuery(event.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"search-books-results\">\r\n                    <ol className=\"books-grid\">\r\n                        {this.state.searchedBooks.map(book => {\r\n                            let currentShelf = \"none\";\r\n\r\n                            this.props.booksOnShelf.map((currentShlefBook) => {\r\n\r\n\r\n                                if (book.id === currentShlefBook.id) {\r\n                                    currentShelf = currentShlefBook.shelf;\r\n                                }\r\n\r\n                            });\r\n\r\n                            return (<li key={book.id}>\r\n                                <div className=\"book\">\r\n                                    <div className=\"book-top\">\r\n                                        {book.imageLinks != undefined && (\r\n                                            <div className=\"bookcoverpage\" style={{ width: 128, height: 188, backgroundImage: `url(${book.imageLinks.smallThumbnail})` }} />)}\r\n                                        <div className=\"book-shelf-changer\">\r\n\r\n                                            <select onChange={(event) => this.updateBookShelf(book, event.target.value)} value={currentShelf} >\r\n                                                <option value=\"move\" disabled >Move to...</option>\r\n                                                <option value=\"currentlyReading\" >Currently Reading</option>\r\n                                                <option value=\"none\">None</option>\r\n                                                <option value=\"wantToRead\" >Want to Read</option>\r\n                                                <option value=\"read\">Read</option>\r\n\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"book-title\"><p>{book.title}</p></div>\r\n                                    <div className=\"authordiv\">\r\n                                        <div className=\"book-authors\">\r\n                                            {book.authors}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>)\r\n                        })}\r\n                    </ol>\r\n                </div>\r\n            </div>)\r\n    }\r\n}\r\nexport default SearchBooks"]},"metadata":{},"sourceType":"module"}